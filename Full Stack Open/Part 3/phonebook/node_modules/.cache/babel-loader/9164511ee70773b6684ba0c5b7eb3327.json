{"ast":null,"code":"var _jsxFileName = \"/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personsService from \"./services/persons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [isErrorMessage, setIsErrorMessage] = useState(false);\n  useEffect(() => {\n    personsService.getAll().then(initialPersonList => setPersons(initialPersonList));\n  }, []);\n\n  const handleNameTextboxChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberTextboxChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchTextboxChange = event => {\n    setSearchText(event.target.value);\n  };\n\n  const showNotificationMessage = (message, isError) => {\n    setNotificationMessage(message);\n    setIsErrorMessage(isError);\n    setTimeout(() => setNotificationMessage(null), 5000);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const checkIfNameIsFound = persons.find(person => person.name === newName);\n\n    if (checkIfNameIsFound === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personsService.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        showNotificationMessage(`Added ${newPerson.name}`, false);\n      }).catch(error => {\n        showNotificationMessage(`${error.message}`, true);\n      });\n    } else if ( // eslint-disable-next-line no-alert\n    window.confirm(`${checkIfNameIsFound.name} is already added to the phonebook, replace the old number with a new one?`)) {\n      const changedPerson = { ...checkIfNameIsFound,\n        number: newNumber\n      };\n      personsService.update(changedPerson.id, changedPerson).then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson));\n        showNotificationMessage(`Updated ${changedPerson.name}'s number`, false);\n      }).catch(error => {\n        showNotificationMessage(`${error.message}`);\n      });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleDelete = person => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personsService.deleteElementWithId(person.id).catch(() => {\n        showNotificationMessage(`Information of ${person.name} has already been removed from server`, true);\n      });\n      setPersons(persons.filter(currentPerson => person.name !== currentPerson.name));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: notificationMessage,\n      isErrorMessage: isErrorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      searchText: searchText,\n      handleSearchTextboxChange: handleSearchTextboxChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      handleSubmit: handleSubmit,\n      newName: newName,\n      newNumber: newNumber,\n      handleNameTextboxChange: handleNameTextboxChange,\n      handleNumberTextboxChange: handleNumberTextboxChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      actualPersons: persons,\n      actualSearchText: searchText,\n      handleDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"hC6DhBXQUx9jxObPznpk3IFfqOM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/App.jsx"],"names":["useEffect","useState","Filter","Notification","PersonForm","Persons","personsService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchText","setSearchText","notificationMessage","setNotificationMessage","isErrorMessage","setIsErrorMessage","getAll","then","initialPersonList","handleNameTextboxChange","event","target","value","handleNumberTextboxChange","handleSearchTextboxChange","showNotificationMessage","message","isError","setTimeout","handleSubmit","preventDefault","checkIfNameIsFound","find","person","name","undefined","newPerson","number","create","returnedPerson","concat","catch","error","window","confirm","changedPerson","update","id","map","handleDelete","deleteElementWithId","filter","currentPerson"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [isErrorMessage, setIsErrorMessage] = useState(false);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersonList) => setPersons(initialPersonList));\n  }, []);\n\n  const handleNameTextboxChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberTextboxChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchTextboxChange = (event) => {\n    setSearchText(event.target.value);\n  };\n\n  const showNotificationMessage = (message, isError) => {\n    setNotificationMessage(message);\n    setIsErrorMessage(isError);\n    setTimeout(() => setNotificationMessage(null), 5000);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const checkIfNameIsFound = persons.find(\n      (person) => person.name === newName\n    );\n    if (checkIfNameIsFound === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      personsService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          showNotificationMessage(`Added ${newPerson.name}`, false);\n        })\n        .catch(error => {\n          showNotificationMessage(`${error.message}`, true);\n        });\n      \n    } else if (\n      // eslint-disable-next-line no-alert\n      window.confirm(\n        `${checkIfNameIsFound.name} is already added to the phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const changedPerson = { ...checkIfNameIsFound, number: newNumber };\n      personsService\n        .update(changedPerson.id, changedPerson)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== changedPerson.id ? person : returnedPerson\n            )\n          );\n          showNotificationMessage(`Updated ${changedPerson.name}'s number`, false);\n        })\n        .catch(error => {\n          showNotificationMessage(`${error.message}`);\n        });\n      \n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleDelete = (person) => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personsService.deleteElementWithId(person.id).catch(() => {\n        showNotificationMessage(\n          `Information of ${person.name} has already been removed from server`,\n          true\n        );\n      });\n      \n      setPersons(\n        persons.filter((currentPerson) => person.name !== currentPerson.name)\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        isErrorMessage={isErrorMessage}\n      />\n      <Filter\n        searchText={searchText}\n        handleSearchTextboxChange={handleSearchTextboxChange}\n      />\n      <h3>Add a new</h3>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameTextboxChange={handleNameTextboxChange}\n        handleNumberTextboxChange={handleNumberTextboxChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        actualPersons={persons}\n        actualSearchText={searchText}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}