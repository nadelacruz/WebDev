{"code":"(this[\"webpackJsonpapi-fetching\"]=this[\"webpackJsonpapi-fetching\"]||[]).push([[0],{39:function(e,n,t){\"use strict\";t.r(n);var a=t(15),c=t.n(a),r=t(3),o=t(4),u=t(2),i=t(0),s=function(e){var n=e.searchText,t=e.handleSearchTextboxChange;return Object(i.jsxs)(\"div\",{children:[\"filter shown with\",\" \",Object(i.jsx)(\"input\",{value:n,onChange:t})]})},d=function(e){var n={background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10};return e?Object(r.a)(Object(r.a)({},n),{},{color:\"red\"}):Object(r.a)(Object(r.a)({},n),{},{color:\"green\"})},b=function(e){var n=e.message,t=e.isErrorMessage;return null===n?null:Object(i.jsx)(\"div\",{style:d(t),children:n})};b.defaultProps={message:null};var l=b,h=function(e){var n=e.handleSubmit,t=e.newName,a=e.newNumber,c=e.handleNameTextboxChange,r=e.handleNumberTextboxChange;return Object(i.jsx)(\"div\",{children:Object(i.jsxs)(\"form\",{onSubmit:n,children:[Object(i.jsxs)(\"div\",{children:[\"name: \",Object(i.jsx)(\"input\",{value:t,onChange:c})]}),Object(i.jsxs)(\"div\",{children:[\"number: \",Object(i.jsx)(\"input\",{value:a,onChange:r})]}),Object(i.jsx)(\"div\",{children:Object(i.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})})},j=function(e){var n,t,a=e.actualPersons,c=e.actualSearchText,r=e.handleDelete;return Object(i.jsx)(\"div\",{children:(n=a,t=c,n.filter((function(e){return e.name.includes(t)}))).map((function(e){return Object(i.jsxs)(\"p\",{children:[e.name,\" \",e.number,\" \",Object(i.jsx)(\"button\",{type:\"button\",onClick:function(){return r(e)},children:\"delete\"})]},e.name)}))})},f=t(5),m=t.n(f),O=\"/api/persons\",x=function(){return m.a.get(O).then((function(e){return e.data}))},v=function(e){return m.a.post(O,e).then((function(e){return e.data}))},g=function(e,n){return m.a.put(\"\".concat(O,\"/\").concat(e),n).then((function(e){return e.data}))},p=function(e){return m.a.delete(\"\".concat(O,\"/\").concat(e))},w=function(){var e=Object(u.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(u.useState)(\"\"),d=Object(o.a)(c,2),b=d[0],f=d[1],m=Object(u.useState)(\"\"),O=Object(o.a)(m,2),w=O[0],S=O[1],T=Object(u.useState)(\"\"),C=Object(o.a)(T,2),N=C[0],y=C[1],k=Object(u.useState)(null),D=Object(o.a)(k,2),E=D[0],P=D[1],A=Object(u.useState)(!1),B=Object(o.a)(A,2),I=B[0],J=B[1];Object(u.useEffect)((function(){x().then((function(e){return a(e)}))}),[]);var M=function(){f(\"\"),S(\"\")},z=function(e,n){P(e),J(n),setTimeout((function(){return P(null)}),5e3)};return Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(\"h2\",{children:\"Phonebook\"}),Object(i.jsx)(l,{message:E,isErrorMessage:I}),Object(i.jsx)(s,{searchText:N,handleSearchTextboxChange:function(e){y(e.target.value)}}),Object(i.jsx)(\"h3\",{children:\"Add a new\"}),Object(i.jsx)(h,{handleSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===b}));if(void 0===n){var c={name:b,number:w};v(c).then((function(e){a(t.concat(e)),z(\"Added \".concat(c.name),!1),M()})).catch((function(e){z(\"\".concat(e.response.data.error),!0)}))}else if(window.confirm(\"\".concat(n.name,\" is already added to the phonebook, replace the old number with a new one?\"))){var o=Object(r.a)(Object(r.a)({},n),{},{number:w});g(o.id,o).then((function(e){a(t.map((function(n){return n.id!==o.id?n:e}))),z(\"Updated \".concat(o.name,\"'s number\"),!1),M()})).catch((function(e){z(\"\".concat(e.response.data.error),!0)}))}},newName:b,newNumber:w,handleNameTextboxChange:function(e){f(e.target.value)},handleNumberTextboxChange:function(e){S(e.target.value)}}),Object(i.jsx)(\"h3\",{children:\"Numbers\"}),Object(i.jsx)(j,{actualPersons:t,actualSearchText:N,handleDelete:function(e){window.confirm(\"Delete \".concat(e.name,\"?\"))&&(p(e.id).catch((function(){z(\"Information of \".concat(e.name,\" has already been removed from server\"),!0)})),a(t.filter((function(n){return e.name!==n.name}))))}})]})};c.a.render(Object(i.jsx)(w,{}),document.getElementById(\"root\"))}},[[39,1,2]]]);","name":"static/js/main.b8aeadf3.chunk.js","map":{"version":3,"sources":["static/js/main.b8aeadf3.chunk.js"],"names":["this","push","39","module","__webpack_exports__","__webpack_require__","r","react_dom","react_dom_default","n","objectSpread2","slicedToArray","react","jsx_runtime","components_Filter","_ref","searchText","handleSearchTextboxChange","Object","children","value","onChange","Notification_getStyle","isErrorMessage","commonStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","Notification_Notification","message","style","defaultProps","components_Notification","components_PersonForm","handleSubmit","newName","newNumber","handleNameTextboxChange","handleNumberTextboxChange","onSubmit","type","components_Persons","persons","text","actualPersons","actualSearchText","handleDelete","filter","person","name","includes","map","number","onClick","axios","axios_default","baseUrl","services_persons","a","get","then","response","data","newObject","post","id","put","concat","delete","src_App","_useState","_useState2","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchText","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","setIsErrorMessage","initialPersonList","clearNameAndNumberFields","showNotificationMessage","isError","setTimeout","event","target","preventDefault","checkIfNameIsFound","find","undefined","newPerson","returnedPerson","catch","error","window","confirm","changedPerson","currentPerson","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpapi-fetching\"] = this[\"webpackJsonpapi-fetching\"] || []).push([[0],{\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Filter.jsx\nvar Filter_Filter=function Filter(_ref){var searchText=_ref.searchText,handleSearchTextboxChange=_ref.handleSearchTextboxChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter shown with\",\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:searchText,onChange:handleSearchTextboxChange})]});};/* harmony default export */ var components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/components/Notification.jsx\nvar Notification_getStyle=function getStyle(isErrorMessage){var commonStyle={background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10};return isErrorMessage?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},commonStyle),{},{color:\"red\"}):Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},commonStyle),{},{color:\"green\"});};var Notification_Notification=function Notification(_ref){var message=_ref.message,isErrorMessage=_ref.isErrorMessage;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:Notification_getStyle(isErrorMessage),children:message});};Notification_Notification.defaultProps={message:null};/* harmony default export */ var components_Notification = (Notification_Notification);\n// CONCATENATED MODULE: ./src/components/PersonForm.jsx\nvar PersonForm_PersonForm=function PersonForm(_ref){var handleSubmit=_ref.handleSubmit,newName=_ref.newName,newNumber=_ref.newNumber,handleNameTextboxChange=_ref.handleNameTextboxChange,handleNumberTextboxChange=_ref.handleNumberTextboxChange;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:handleNameTextboxChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newNumber,onChange:handleNumberTextboxChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]})});};/* harmony default export */ var components_PersonForm = (PersonForm_PersonForm);\n// CONCATENATED MODULE: ./src/components/Persons.jsx\nvar Persons_Persons=function Persons(_ref){var actualPersons=_ref.actualPersons,actualSearchText=_ref.actualSearchText,handleDelete=_ref.handleDelete;var PersonsWith=function PersonsWith(persons,text){return persons.filter(function(person){return person.name.includes(text);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:PersonsWith(actualPersons,actualSearchText).map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[person.name,\" \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:function onClick(){return handleDelete(person);},children:\"delete\"})]},person.name);})});};/* harmony default export */ var components_Persons = (Persons_Persons);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(5);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\nvar baseUrl=\"/api/persons\";var persons_getAll=function getAll(){var request=axios_default.a.get(baseUrl);return request.then(function(response){return response.data;});};var persons_create=function create(newObject){var request=axios_default.a.post(baseUrl,newObject);return request.then(function(response){return response.data;});};var persons_update=function update(id,newObject){var request=axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),newObject);return request.then(function(response){return response.data;});};var persons_deleteElementWithId=function deleteElementWithId(id){return axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id));};/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] *//* harmony default export */ var services_persons = ({getAll:persons_getAll,create:persons_create,update:persons_update,deleteElementWithId:persons_deleteElementWithId});\n// CONCATENATED MODULE: ./src/App.jsx\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),searchText=_useState8[0],setSearchText=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),notificationMessage=_useState10[0],setNotificationMessage=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isErrorMessage=_useState12[0],setIsErrorMessage=_useState12[1];Object(react[\"useEffect\"])(function(){services_persons.getAll().then(function(initialPersonList){return setPersons(initialPersonList);});},[]);var clearNameAndNumberFields=function clearNameAndNumberFields(){setNewName(\"\");setNewNumber(\"\");};var handleNameTextboxChange=function handleNameTextboxChange(event){setNewName(event.target.value);};var handleNumberTextboxChange=function handleNumberTextboxChange(event){setNewNumber(event.target.value);};var handleSearchTextboxChange=function handleSearchTextboxChange(event){setSearchText(event.target.value);};var showNotificationMessage=function showNotificationMessage(message,isError){setNotificationMessage(message);setIsErrorMessage(isError);setTimeout(function(){return setNotificationMessage(null);},5000);};var handleSubmit=function handleSubmit(event){event.preventDefault();var checkIfNameIsFound=persons.find(function(person){return person.name===newName;});if(checkIfNameIsFound===undefined){var newPerson={name:newName,number:newNumber};services_persons.create(newPerson).then(function(returnedPerson){setPersons(persons.concat(returnedPerson));showNotificationMessage(\"Added \".concat(newPerson.name),false);clearNameAndNumberFields();}).catch(function(error){showNotificationMessage(\"\".concat(error.response.data.error),true);});}else if(// eslint-disable-next-line no-alert\nwindow.confirm(\"\".concat(checkIfNameIsFound.name,\" is already added to the phonebook, replace the old number with a new one?\"))){var changedPerson=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},checkIfNameIsFound),{},{number:newNumber});services_persons.update(changedPerson.id,changedPerson).then(function(returnedPerson){setPersons(persons.map(function(person){return person.id!==changedPerson.id?person:returnedPerson;}));showNotificationMessage(\"Updated \".concat(changedPerson.name,\"'s number\"),false);clearNameAndNumberFields();}).catch(function(error){showNotificationMessage(\"\".concat(error.response.data.error),true);});}};var handleDelete=function handleDelete(person){// eslint-disable-next-line no-alert\nif(window.confirm(\"Delete \".concat(person.name,\"?\"))){services_persons.deleteElementWithId(person.id).catch(function(){showNotificationMessage(\"Information of \".concat(person.name,\" has already been removed from server\"),true);});setPersons(persons.filter(function(currentPerson){return person.name!==currentPerson.name;}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notification,{message:notificationMessage,isErrorMessage:isErrorMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Filter,{searchText:searchText,handleSearchTextboxChange:handleSearchTextboxChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PersonForm,{handleSubmit:handleSubmit,newName:newName,newNumber:newNumber,handleNameTextboxChange:handleNameTextboxChange,handleNumberTextboxChange:handleNumberTextboxChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Persons,{actualPersons:persons,actualSearchText:searchText,handleDelete:handleDelete})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.jsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/components/Filter.jsx","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/components/Notification.jsx","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/components/PersonForm.jsx","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/components/Persons.jsx","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/services/persons.js","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/App.jsx","/home/nadelacruz/Desktop/WebDev/Full Stack Open/Part 3/phonebook/src/index.jsx"],"names":["Filter","searchText","handleSearchTextboxChange","getStyle","isErrorMessage","commonStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","Notification","message","defaultProps","PersonForm","handleSubmit","newName","newNumber","handleNameTextboxChange","handleNumberTextboxChange","Persons","actualPersons","actualSearchText","handleDelete","PersonsWith","persons","text","filter","person","name","includes","map","number","baseUrl","getAll","request","axios","get","then","response","data","create","newObject","post","update","id","put","deleteElementWithId","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchText","notificationMessage","setNotificationMessage","setIsErrorMessage","useEffect","personsService","initialPersonList","clearNameAndNumberFields","event","target","value","showNotificationMessage","isError","setTimeout","preventDefault","checkIfNameIsFound","find","undefined","newPerson","returnedPerson","concat","catch","error","window","confirm","changedPerson","currentPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import PropTypes from \"prop-types\";\n\nconst Filter = ({ searchText, handleSearchTextboxChange }) => (\n  <div>\n    filter shown with{\" \"}\n    <input value={searchText} onChange={handleSearchTextboxChange} />\n  </div>\n);\n\nFilter.propTypes = {\n  searchText: PropTypes.string.isRequired,\n  handleSearchTextboxChange: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import PropTypes from \"prop-types\";\n\nconst getStyle = (isErrorMessage) => {\n  const commonStyle = {\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  return isErrorMessage\n    ? { ...commonStyle, color: \"red\" }\n    : { ...commonStyle, color: \"green\" };\n};\n\nconst Notification = ({ message, isErrorMessage }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={getStyle(isErrorMessage)}>{message}</div>;\n};\n\nNotification.defaultProps = {\n  message: null,\n};\n\nNotification.propTypes = {\n  message: PropTypes.string,\n  isErrorMessage: PropTypes.bool.isRequired,\n};\n\nexport default Notification;\n","import PropTypes from \"prop-types\";\n\nconst PersonForm = ({\n  handleSubmit,\n  newName,\n  newNumber,\n  handleNameTextboxChange,\n  handleNumberTextboxChange,\n}) => (\n  <div>\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameTextboxChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberTextboxChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n);\n\nPersonForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  newName: PropTypes.string.isRequired,\n  newNumber: PropTypes.string.isRequired,\n  handleNameTextboxChange: PropTypes.func.isRequired,\n  handleNumberTextboxChange: PropTypes.func.isRequired,\n};\n\nexport default PersonForm;\n","import PropTypes from \"prop-types\";\n\nconst Persons = ({ actualPersons, actualSearchText, handleDelete }) => {\n  const PersonsWith = (persons, text) =>\n    persons.filter((person) => person.name.includes(text));\n\n  return (\n    <div>\n      {PersonsWith(actualPersons, actualSearchText).map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}{\" \"}\n          <button type=\"button\" onClick={() => handleDelete(person)}>\n            delete\n          </button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nPersons.propTypes = {\n  actualPersons: PropTypes.array.isRequired,\n  actualSearchText: PropTypes.string.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n};\n\nexport default Persons;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteElementWithId = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default { getAll, create, update, deleteElementWithId };\n","import { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [isErrorMessage, setIsErrorMessage] = useState(false);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersonList) => setPersons(initialPersonList));\n  }, []);\n\n  const clearNameAndNumberFields = () => {\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameTextboxChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberTextboxChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchTextboxChange = (event) => {\n    setSearchText(event.target.value);\n  };\n\n  const showNotificationMessage = (message, isError) => {\n    setNotificationMessage(message);\n    setIsErrorMessage(isError);\n    setTimeout(() => setNotificationMessage(null), 5000);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const checkIfNameIsFound = persons.find(\n      (person) => person.name === newName\n    );\n    if (checkIfNameIsFound === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      personsService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          showNotificationMessage(`Added ${newPerson.name}`, false);\n          clearNameAndNumberFields();\n        })\n        .catch(error => {\n          showNotificationMessage(`${error.response.data.error}`, true);\n        });\n      \n    } else if (\n      // eslint-disable-next-line no-alert\n      window.confirm(\n        `${checkIfNameIsFound.name} is already added to the phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const changedPerson = { ...checkIfNameIsFound, number: newNumber };\n      personsService\n        .update(changedPerson.id, changedPerson)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== changedPerson.id ? person : returnedPerson\n            )\n          );\n          showNotificationMessage(`Updated ${changedPerson.name}'s number`, false);\n          clearNameAndNumberFields();\n        })\n        .catch(error => {\n          showNotificationMessage(`${error.response.data.error}`, true);\n        });\n    }\n  };\n\n  const handleDelete = (person) => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personsService.deleteElementWithId(person.id).catch(() => {\n        showNotificationMessage(\n          `Information of ${person.name} has already been removed from server`,\n          true\n        );\n      });\n      \n      setPersons(\n        persons.filter((currentPerson) => person.name !== currentPerson.name)\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        isErrorMessage={isErrorMessage}\n      />\n      <Filter\n        searchText={searchText}\n        handleSearchTextboxChange={handleSearchTextboxChange}\n      />\n      <h3>Add a new</h3>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameTextboxChange={handleNameTextboxChange}\n        handleNumberTextboxChange={handleNumberTextboxChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        actualPersons={persons}\n        actualSearchText={searchText}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"]}}